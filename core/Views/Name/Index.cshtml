@using Newtonsoft.Json
@* @model List<CrudUsingCore.Models.Student>
@{
    ViewBag.Title = "Index";
}

<table class="table table-bordered table-hover table-responsive">
    <tr class="table-dark">
        <td>Id</td>
        <td>Name</td>
        <td>Email</td>
        <td>Actions</td>
    </tr>
    @foreach (var i in Model)
    {
        <tr>
            <td>@i.Id</td>
            <td>@i.FullName</td>
            <td>@i.Email</td>
            <td>
                <a asp-action="Edit" asp-controller="Name" asp-route-id ="@i.Id" class="btn btn-warning">Edit</a>
                <a asp-action="Delete" asp-controller="Name" asp-route-id="@i.Id" class="btn btn-danger">Delete</a>
            </td>
        </tr>
    }
</table> *@

@model List<CrudUsingCore.Models.Student>

@{
    ViewBag.Title = "Index";
    var studentData = TempData["StudentData"] as string;
    var student = studentData != null ? JsonConvert.DeserializeObject<CrudUsingCore.Models.Student>(studentData) : null;
}

<h2>Student Management</h2>

<div>
    <!-- Partial view for the form -->
    @await Html.PartialAsync("_StudentForm", student ?? new CrudUsingCore.Models.Student())
</div>

<div>
    <!-- Partial view for the list of students -->
    @await Html.PartialAsync("_StudentList", Model)
</div>


